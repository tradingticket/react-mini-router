!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ReactMiniRouter=e()}}(function(){var e,t,n;return function r(e,t,n){function i(o,u){if(!t[o]){if(!e[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return i(n?n:t)},l,l.exports,r,e,t,n)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){t.exports={RouterMixin:e("./lib/RouterMixin"),navigate:e("./lib/navigate")}},{"./lib/RouterMixin":2,"./lib/navigate":4}],2:[function(e,t,n){(function(n){function u(e){var t=e.props.path||e.context.path,n;return window.location.hash==""&&(window.location="#!/"),!t&&o.canUseDOM&&(n=s(window.location.href),!e.props.useHistory&&n.hash?t=s(n.hash.slice(2)).pathname:t=n.pathname),t||"/"}function a(e){return target=e.target,target.nodeName!="A"&&(target=e.target.querySelector("a")),target?s(target.href):0}function f(e,t,n){var r=[],s,o,u,a,f;for(s in t)t.hasOwnProperty(s)&&(u=[],o=i(e+s,u),a=t[s],f=n[a],r.push({pattern:o,params:u,handler:f}));return r}function l(e){var t={};e.indexOf("?")===0&&(e=e.slice(1));var n=e.split("&");return n.forEach(function(e){var n=e.split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}),t}var r=typeof window!="undefined"?window.React:typeof n!="undefined"?n.React:null,i=e("path-to-regexp"),s=e("urllite/lib/core"),o=e("./detect");t.exports={contextTypes:{path:r.PropTypes.string,root:r.PropTypes.string,useHistory:r.PropTypes.bool},childContextTypes:{path:r.PropTypes.string,root:r.PropTypes.string,useHistory:r.PropTypes.bool},setHash:function(e){var t;if(!this.state.useHistory){var n=e.hash.split("/");delete n[0],t=n.join("/")}else t=e.pathname;this.setState({path:t})},getChildContext:function(){return{path:this.state.path,root:this.state.root,useHistory:this.state.useHistory}},getDefaultProps:function(){return{routes:{}}},getInitialState:function(){return{path:u(this),root:(this.context.root||"")+(this.props.root||""),useHistory:(this.props.history||this.context.useHistory)&&o.hasPushState}},componentWillMount:function(){this.setState({_routes:f(this.state.root,this.routes,this)})},componentDidMount:function(){this.getDOMNode().addEventListener("click",this.handleClick,!1),window.addEventListener("popstate",this.onPopState,!1),window.location.hash.indexOf("#!")===-1&&(window.location.hash="#!/")},componentWillUnmount:function(){this.getDOMNode().removeEventListener("click",this.handleClick),this.state.useHistory?window.removeEventListener("popstate",this.onPopState):window.removeEventListener("hashchange",this.onPopState)},onPopState:function(e){typeof e.url!="undefined"&&(url=s(e.url||e.newURL),this.setHash(url))},renderCurrentRoute:function(){var e=this.state.path,t=s(e),n=l(t.search),r=t.pathname;if(!r||r.length===0)r="/";var i=this.matchRoute(r);if(i)return i.handler.apply(this,i.params.concat(n));if(this.notFound)return this.notFound(r,n);throw new Error("No route matched path: "+r)},handleClick:function(e){var t=a(e);t&&this.matchRoute(t.pathname)&&(e.preventDefault(),this.setHash(t))},matchRoute:function(e){if(!e)return!1;var t={};return this.state._routes.some(function(n){var r=n.pattern.exec(e);return r?(t.handler=n.handler,t.params=r.slice(1,n.params.length+1),!0):!1}),t.handler?t:!1}}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./detect":3,"path-to-regexp":5,"urllite/lib/core":7}],3:[function(e,t,n){var r=typeof window!="undefined"&&!!window.document&&!!window.document.createElement;t.exports={canUseDOM:r,hasPushState:r&&window.history&&"pushState"in window.history,hasHashbang:function(){return r&&window.location.hash.indexOf("#!")===0}}},{}],4:[function(e,t,n){t.exports=function(t,n){var r=new window.Event("popstate");r.url=window.location.href+t,r.url=r.url.replace("!//","!/"),window.dispatchEvent(r)}},{}],5:[function(e,t,n){function s(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function o(e,t){return e.keys=t,e}function u(e){return e.sensitive?"":"i"}function a(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,delimiter:null,optional:!1,repeat:!1});return o(e,t)}function f(e,t,n){var r=[];for(var i=0;i<e.length;i++)r.push(c(e[i],t,n).source);var s=new RegExp("(?:"+r.join("|")+")",u(n));return o(s,t)}function l(e,t){function r(e,r,i,o,u,a,f,l){if(r)return r;if(l)return"\\"+l;var c=f==="+"||f==="*",h=f==="?"||f==="*";return t.push({name:o||n++,delimiter:i||"/",optional:h,repeat:c}),i=i?"\\"+i:"",u=s(u||a||"[^"+(i||"\\/")+"]+?"),c&&(u=u+"(?:"+i+u+")*"),h?"(?:"+i+"("+u+"))?":i+"("+u+")"}var n=0;return e.replace(i,r)}function c(e,t,n){t=t||[],r(t)?n||(n={}):(n=t,t=[]);if(e instanceof RegExp)return a(e,t,n);if(r(e))return f(e,t,n);var i=n.strict,s=n.end!==!1,c=l(e,t),h=e.charAt(e.length-1)==="/";return i||(c=(h?c.slice(0,-2):c)+"(?:\\/(?=$))?"),s?c+="$":c+=i&&h?"":"(?=\\/|$)",o(new RegExp("^"+c,u(n)),t)}var r=e("isarray");t.exports=c;var i=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g")},{isarray:6}],6:[function(e,t,n){t.exports=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"}},{}],7:[function(e,t,n){(function(){var e,n,r,i,s={}.hasOwnProperty;n=/^(?:(?:([^:\/?\#]+:)\/+|(\/\/))(?:([a-z0-9-\._~%]+)(?::([a-z0-9-\._~%]+))?@)?(([a-z0-9-\._~%!$&'()*+,;=]+)(?::([0-9]+))?)?)?([^?\#]*?)(\?[^\#]*)?(\#.*)?$/,i=function(e,t){return i.URL.parse(e,t)},i.URL=e=function(){function e(e){var t,n,i;for(t in r){if(!s.call(r,t))continue;n=r[t],this[t]=(i=e[t])!=null?i:n}this.host||(this.host=this.hostname&&this.port?""+this.hostname+":"+this.port:this.hostname?this.hostname:""),this.origin||(this.origin=this.protocol?""+this.protocol+"//"+this.host:""),this.isAbsolutePathRelative=!this.host&&this.pathname.charAt(0)==="/",this.isPathRelative=!this.host&&this.pathname.charAt(0)!=="/",this.isRelative=this.isSchemeRelative||this.isAbsolutePathRelative||this.isPathRelative,this.isAbsolute=!this.isRelative}return e.parse=function(e){var t,r,s;return t=e.toString().match(n),r=t[8]||"",s=t[1],new i.URL({protocol:s,username:t[3],password:t[4],hostname:t[6],port:t[7],pathname:s&&r.charAt(0)!=="/"?"/"+r:r,search:t[9],hash:t[10],isSchemeRelative:t[2]!=null})},e}(),r={protocol:"",username:"",password:"",host:"",hostname:"",port:"",pathname:"",search:"",hash:"",origin:"",isSchemeRelative:!1},t.exports=i}).call(this)},{}]},{},[1])(1)});